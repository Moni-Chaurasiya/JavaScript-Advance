<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Closure</title>
</head>
<body style="background-color: #313131;">
    <button id="orange">Orange</button>
    <button id="green">Green</button>
</body>
<script>
    <!-- A closure is the combination of a function bundled together (enclosed) with references to its surrounding state (the lexical environment). In other words, a closure gives you access to an outer function's scope from an inner function. In JavaScript, closures are created every time a function is created, at function creation time. -->

    // Lexical scoping

    function init(){
        let name="Moni";
        function displayName(){
            console.log(name);

        }
        displayName();
    }
    init();

    
    if (Math.random() > 0.5) {
        var x = 1;
    } else {
        var x = 2;
    }
    //because blocks don't create scopes for var, the var statements here actually create a global variable.

    console.log(x); //It will not give error

    function outer(){
      let username ="moni"
   //   console.log("OUTER",secret); --> secret is not defined --> value cannot be taken from inner function
      function inner(){
        let secret ="my123";
        console.log("inner", username);
      }
      function innerTwo(){
        console.log("innerTwo", username);
       // console.log(secret); -->cannot access secret
      }
      inner();
      innerTwo();

    }
    outer();
    console.log("TOO outer", username)
</script>
<script>
 /*   document.getElementById("orange").onclick= function(){
        document.body.style.backgroundColor=`orange`;
    }
    document.getElementById("green").onclick= function(){
        document.body.style.backgroundColor=`green`;
    }   */
    function clickHandler(color){
        return function(){
            document.body.style.backgroundColor =`${color}`
        }
    }
    document.getElementById('orange').onclick= clickHandler("orange");
    document.getElementById('green').onclick= clickHandler("green");

</script>
</html>